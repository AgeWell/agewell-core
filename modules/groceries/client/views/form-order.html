<section>
  <div class="page-header">
    <h1>{{vm.groceries._id ? 'Edit Groceries Order' : 'New Groceries Order'}}</h1>
  </div>
  <div class="col-md-8">
    <div class="alert alert-info" role="alert">
      You order must be submitted by <strong>{{vm.dates.orderBy | date:'EEEE, MMMM d'}}</strong> to be delivered on <strong>{{vm.dates.delivery | date:'EEEE, MMMM d'}}</strong>.
    </div>
    <div class="row">
      <div class="col-md-4"><strong>Order by Date:</strong> {{ vm.dates.now | date:'MM/dd/yyyy'}}</div>
      <div class="col-md-4"></div>
      <div class="col-md-4"><strong>To be Delivered:</strong> {{vm.dates.delivery | date:'MM/dd/yyyy'}}</div>
    </div>
    <items-form items="vm.order.items" error="vm.error" form="vm.orderForm"></items-form>
    <table class="table table-bordered table-hover table-condensed">
      <tr style="font-weight: bold">
        <td class="text-right" style="width:75%">
          SubTotal:
        </td>
        <td style="width:25%">
          {{ vm.order.subtotal | currency }}
        </td>
      </tr>
      <tr style="font-weight: bold">
        <td class="text-right" style="width:75%">
          Delivery Cost:
        </td>
        <td style="width:25%">
          {{ vm.order.deliveryCost | currency }}
        </td>
      </tr>
      <tr style="font-weight: bold">
        <td class="text-right" style="width:75%">
          Total:
        </td>
        <td style="width:25%">
          {{ vm.order.total | currency }}
        </td>
      </tr>
    </table>
    <form name="vm.orderForm" class="form-horizontal" ng-submit="vm.save(vm.orderForm.$valid)" novalidate>
      <fieldset>
        <div class="form-group">
          <label class="control-label" for="notes">Notes</label>
          <textarea name="notes" type="text" ng-model="vm.order.notes" id="notes" class="form-control" placeholder="Notes"></textarea>
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-default">{{vm.groceries._id ? 'Update' : 'Create'}}</button>
        </div>
        <div ng-show="vm.error" class="text-danger">
          <strong ng-bind="vm.error"></strong>
        </div>
      </fieldset>
  </div>
  <div class="col-md-4">
    <div class="panel panel-primary">
      <div class="panel-heading"><strong>Important Info</strong></div>
      <div class="panel-body">
        <div>
          <strong>Order Deadline:</strong> {{vm.dates.orderBy | date:'EEEE, MMMM d'}}
        </div>
        <div>
          <strong>Delivery Date:</strong> {{vm.dates.delivery | date:'EEEE, MMMM d'}}
        </div>
        <div>
          <strong>Next Deadline:</strong> {{vm.dates.orderBy | date:'EEEE, MMMM d'}}
        </div>
        <div>
          <strong>Next Delivery:</strong> {{vm.dates.orderBy | date:'EEEE, MMMM d'}}
        </div>
        <hr />
      </div>
    </div>
  </div>
  </form>
</section>
